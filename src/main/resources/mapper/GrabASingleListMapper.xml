<?xml version="1.0" encoding="UTF-8" ?>
        <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.robbad.dao.UserDao">

        <select id="GrabASingleListImpl" parameterType="com.robbad.model.SearchCondition" resultType="com.robbad.model.Basicmanager">
                select lg_shop_uid,qd_gm_pay,qd_fb_time,qd_sesame,qd_loanpay,qd_username,qd_region,qd_age,qd_professional,
                qd_often,qd_social,qd_plicy,qd_assets,qd_income,qd_units,qd_fund,qd_time,qd_sex from
                qd_basicmanager
                        where
                        qd_region like #{searchConditions.city}
                <if test="searchConditions.rank == 2">
                         ORDER BY   qd_loanpay desc
                </if>
                <if test="searchConditions.rank == 3">
                         ORDER BY  qd_time  asc
                </if>
                <if test="searchConditions.rank == 4">
                          ORDER BY qd_loanpay asc
                </if>
                <if test="searchConditions.rank == 5">
                         ORDER BY  qd_sesame desc
                </if>

        </select>

    <select id="BasicmanagerList" resultType="com.robbad.model.Basicmanager">
                select lg_shop_uid,qd_gm_pay,qd_fb_time,qd_sesame,qd_loanpay,qd_username,qd_region,qd_age,qd_professional,
                qd_often,qd_social,qd_plicy,qd_assets,qd_income,qd_units,qd_fund,qd_time,qd_sex from
                qd_basicmanager

        </select>

  <select id="purchaseList" parameterType="com.robbad.model.SearchCondition"  resultType="com.robbad.model.Basicmanager">

        select lg_shop_uid,qd_gm_pay,qd_fb_time,qd_sesame,qd_loanpay,qd_username,qd_region,qd_age,qd_professional,
      qd_often,qd_social,qd_plicy,qd_assets,qd_income,qd_units,qd_fund,qd_time,qd_qq,qd_wechat,qd_phone,qd_sex from qd_basicmanager where qd_region like #{searchConditions.city}
      <if test="searchConditions.searchBox !='' and searchConditions.searchBox !=null">
         and qd_card like concat(concat("%",#{searchConditions.searchBox}),"%")
          or qd_username like concat(concat("%",#{searchConditions.searchBox}),"%")
          or qd_phone like concat(concat("%",#{searchConditions.searchBox}),"%")
      </if>
      <if test="searchConditions.startTime != '' and searchConditions.stopTime != ''">
         and date(qd_fb_time) between #{searchConditions.startTime} and #{searchConditions.stopTime}
      </if>
                <if test="searchConditions.rank == 2">
                         ORDER BY   qd_loanpay desc
                </if>
                <if test="searchConditions.rank == 3">
                         ORDER BY  qd_time  asc
                </if>
                <if test="searchConditions.rank == 4">
                          ORDER BY qd_loanpay asc
                </if>
                <if test="searchConditions.rank == 5">
                         ORDER BY  qd_sesame desc
                </if>

        </select>

  <select id="dicectDriveList" parameterType="com.robbad.model.SearchCondition"  resultType="com.robbad.model.Basicmanager">

      select lg_shop_uid,qd_gm_pay,qd_fb_time,qd_sesame,qd_loanpay,qd_username,qd_region,qd_age,qd_professional,
      qd_often,qd_social,qd_plicy,qd_assets,qd_income,qd_units,qd_fund,qd_time,qd_qq,qd_wechat,qd_phone,qd_sex from
      qd_basicmanager
      <!--and jl.lg_phone=#{searchConditions.phone} and jl.lg_read = kh.lg_shop_uid-->
      where
      qd_region like #{searchConditions.city}
      <if test="searchConditions.searchBox !='' and searchConditions.searchBox !=null">
          and qd_card like concat(concat("%",#{searchConditions.searchBox}),"%")
          or qd_username like concat(concat("%",#{searchConditions.searchBox}),"%")
          or qd_phone like concat(concat("%",#{searchConditions.searchBox}),"%")

      </if>

      <if test="searchConditions.startTime != '' and searchConditions.stopTime != ''">
         and date(qd_fb_time) between #{searchConditions.startTime} and #{searchConditions.stopTime}
      </if>
                <if test="searchConditions.rank == 2">
                         ORDER BY   qd_loanpay desc
                </if>

                <if test="searchConditions.rank == 3">
                         ORDER BY  qd_time  asc
                </if>
                <if test="searchConditions.rank == 4">
                          ORDER BY qd_loanpay asc
                </if>
                <if test="searchConditions.rank == 5">
                         ORDER BY  qd_sesame desc
                </if>

        </select>

</mapper>